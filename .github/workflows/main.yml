name: SSH TMATEEEEE

on:
  workflow_dispatch:
    inputs:
      timeout:
        description: 'Timeout in minutes'
        required: false
        default: '30'

jobs:
  debug:
    runs-on: ubuntu-latest
    
    steps:
    - name: Install tmate
      run: sudo apt-get update && sudo apt-get install -y tmate
      
    - name: Start tmate session
      run: |
        # Iniciar sesi贸n tmate
        tmate -S /tmp/tmate.sock new-session -d
        tmate -S /tmp/tmate.sock wait tmate-ready
        
        # Obtener informaci贸n de conexi贸n
        echo "==========================================="
        echo " TMATE DEBUG SESSION - GITHUB ACTIONS"
        echo "==========================================="
        echo "SSH: $(tmate -S /tmp/tmate.sock display -p '#{tmate_ssh}')"
        echo "Web: $(tmate -S /tmp/tmate.sock display -p '#{tmate_web}')"
        echo "==========================================="
        echo "Job ID: ${{ github.run_id }}"
        echo "Runner: ${{ runner.name }}"
        echo "Timeout: ${{ github.event.inputs.timeout }} minutes"
        echo "==========================================="
        
        # Mantener sesi贸n activa
        sleep $(( ${{ github.event.inputs.timeout }} * 60 ))
